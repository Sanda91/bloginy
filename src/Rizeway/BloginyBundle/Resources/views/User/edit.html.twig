{% extends "::layout.html.twig" %}

{% block title %}{{ user.name }}, Bloginy{% endblock %}

{% block mainmenu %}
    {% render "BloginyBundle:Utils:mainMenu" with {"current": "user"} %}
{% endblock %}

{% block submenu %}
     <div id="submenu">
        {% include "BloginyBundle:User:submenu.html.twig" with {'current': 'settings'} %}
     </div>
{% endblock %}

{% block body %}
    <h1>{% trans from "bloginy" %}Profile{% endtrans %}</h1>

    <form class="form" action="{{ path('user_edit') }}" {{ form_enctype(form) }} method="post">
        <table>
            <tr>
                <td></td>
                <td>{{ form_errors(form) }}</td>
            </tr>
            <tr>
                <td>{{ form_label(form.first_name) }}</td>
                <td>
                    {{ form_errors(form.first_name) }}
                    {{ form_widget(form.first_name) }}
                </td>
            </tr>
            <tr>
                <td>{{ form_label(form.last_name) }}</td>
                <td>
                    {{ form_errors(form.last_name) }}
                    {{ form_widget(form.last_name) }}
                </td>
            </tr>
            <tr>
                <td>{{ form_label(form.birthday) }}</td>
                <td>
                    {{ form_errors(form.birthday) }}
                    {{ form_widget(form.birthday) }}
                </td>
            </tr>
            <tr>
                <td>{{ form_label(form.web_site) }}</td>
                <td>
                    {{ form_errors(form.web_site) }}
                    {{ form_widget(form.web_site) }}
                </td>
            </tr>
            <tr class="spacer">
                <td></td>
                <td></td>
            </tr>
            <tr>
                <td>{{ form_label(form.locale, 'Language') }}</td>
                <td>
                    {{ form_errors(form.locale) }}
                    {{ form_widget(form.locale) }}
                </td>
            </tr>
            <tr class="spacer">
                <td></td>
                <td></td>
            </tr>
            <tr>
                <td></td>
                <td>
                    <button class="button2">{% trans from 'bloginy' %}Save modifications{% endtrans %}</button>
                    {{ form_rest(form) }}
                </td>
            </tr>
        </table>
    </form>

    {% if saved %}
        <script>
            $(document).ready(function(){BloginyMessage.show("{% trans from 'bloginy' %}Your settings has been saved successfully{% endtrans %}.")});
        </script>
    {% endif %}
{% endblock %}


{% block sidebarleft %}
    <div id="sidebar-left" class="sidebar">
        {% include "BloginyBundle:User:settings_menu.html.twig" with {'current': 'profile'} %}
    </div>
{% endblock %}


{% block sidebarright %}
    <div id="sidebar-right" class="sidebar">
        {% include "BloginyBundle:User:identity.html.twig" with {'user': user} %}
    </div>
{% endblock %}